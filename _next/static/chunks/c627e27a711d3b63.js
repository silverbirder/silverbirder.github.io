(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53835,e=>{e.v("/_next/static/media/search.worker.f8420492.ts")},16233,78292,60617,e=>{"use strict";e.i(74744),e.i(49703);var t=e.i(87815),r=e.i(95299),a=e.i(68907);e.s(["createFollowSection",0,({labels:e,links:i})=>{let l=[{active:"#1f1f1f",bg:"#000000",hover:"#111111",href:i.x,icon:(0,t.jsx)(r.FaXTwitter,{}),label:e.x},{active:"#0059c7",bg:"#007bff",hover:"#0068e6",href:i.bluesky,icon:(0,t.jsx)(a.SiBluesky,{}),label:e.bluesky},{active:"#191c20",bg:"#24292f",hover:"#1f2328",href:i.github,icon:(0,t.jsx)(r.FaGithub,{}),label:e.github},{active:"#2a2a2a",bg:"#101010",hover:"#1a1a1a",href:i.threads,icon:(0,t.jsx)(a.SiThreads,{}),label:e.threads}];return{heading:e.heading,items:l}}],78292),e.i(37713),e.i(68617),e.i(79815),e.i(33461),e.i(24515),e.i(80525),e.i(55964),e.i(6458),e.i(63622),e.i(72343),e.i(96879),e.i(44844),e.i(83758),e.i(22657),e.i(48654),e.i(38174),e.i(89849),e.i(45363),e.i(63580),e.i(63437),e.i(86641),e.i(40701),e.i(10743),e.i(65456),e.i(99979),e.s([],16233);var i=e.i(48648);function l(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let s=l(0,i.useTranslations);l(0,i.useFormatter),e.s(["useTranslations",()=>s],60617)},59214,e=>{e.v(e.b(["static/chunks/2d07d05b6015cd19.js","static/chunks/turbopack-82cb4badff811711.js"]))},47137,e=>{"use strict";var t=e.i(87815),r=e.i(99614),a=e.i(24356),i=e.i(30200),l=e.i(18456);e.i(16233);var s=e.i(33461),o=e.i(55964),n=e.i(44844),u=e.i(40701),d=e.i(99979),c=e.i(60617),g=e.i(85610),h=e.i(55325),p=e.i(2520),f=e.i(6586),m=e.i(35922);e.s([],95084),e.i(95084);var x=e.i(50187);let b=e=>e.children((0,x.useFieldContext)());var v=e.i(28979),y=e.i(46429);let j=(0,h.forwardRef)((e,r)=>{let a=(0,x.useFieldContext)(),i=(0,v.mergeProps)(a.getErrorTextProps(),e);return a?.invalid?(0,t.jsx)(y.ark.span,{...i,ref:r}):null});j.displayName="FieldErrorText";let w=(0,h.forwardRef)((e,r)=>{let a=(0,x.useFieldContext)(),i=(0,v.mergeProps)(a?.getHelperTextProps(),e);return(0,t.jsx)(y.ark.span,{...i,ref:r})});w.displayName="FieldHelperText";let k=(0,h.forwardRef)((e,r)=>{let a=(0,x.useFieldContext)(),i=(0,v.mergeProps)(a?.getInputProps(),e);return(0,t.jsx)(y.ark.input,{...i,ref:r})});k.displayName="FieldInput";let S=(0,h.forwardRef)((e,r)=>{let a=(0,x.useFieldContext)(),i=(0,v.mergeProps)(a?.getLabelProps(),e);return(0,t.jsx)(y.ark.label,{...i,ref:r})});S.displayName="FieldLabel";let P=(0,h.forwardRef)(({fallback:e,...r},a)=>{let i=(0,x.useFieldContext)();if(!i.required)return e;let l=(0,v.mergeProps)(i.getRequiredIndicatorProps(),r);return(0,t.jsx)(y.ark.span,{...l,ref:a,children:r.children??"*"})});P.displayName="FieldRequiredIndicator";var T=e.i(91582),R=e.i(95520),F=e.i(81093),C=e.i(56078);let E="undefined"!=typeof window?h.useLayoutEffect:h.useEffect;var M=e.i(18249),A=e.i(40877);let N=(0,R.createSplitProps)(),I=(0,h.forwardRef)((e,r)=>{let[a,i]=N(e,["id","ids","disabled","invalid","readOnly","required"]),l=((e={})=>{let t=(0,M.useFieldsetContext)(),r=(0,C.useEnvironmentContext)(),{ids:a,disabled:i=!!t?.disabled,invalid:l=!1,readOnly:s=!1,required:o=!1}=e,[n,u]=(0,h.useState)(!1),[d,c]=(0,h.useState)(!1),g=(0,h.useId)(),p=e.id??g,f=(0,h.useRef)(null),m=a?.control??`field::${p}`,x=a?.errorText??`field::${p}::error-text`,b=a?.helperText??`field::${p}::helper-text`,v=a?.label??`field::${p}::label`;E(()=>{let e=f.current;if(!e)return;let t=()=>{let e=r.getRootNode();u(!!e.getElementById(x)),c(!!e.getElementById(b))};t();let a=new(r.getWindow()).MutationObserver(t);return a.observe(e,{childList:!0,subtree:!0}),()=>a.disconnect()},[r,x,b]);let y=(0,h.useMemo)(()=>{let e=[];return n&&l&&e.push(x),d&&e.push(b),e.join(" ")||void 0},[l,x,b,n,d]),j=(0,h.useMemo)(()=>()=>({...A.parts.root.attrs,id:m,ref:f,role:"group","data-disabled":(0,F.dataAttr)(i),"data-invalid":(0,F.dataAttr)(l),"data-readonly":(0,F.dataAttr)(s)}),[i,l,s,m]),w=(0,h.useMemo)(()=>()=>({...A.parts.label.attrs,id:v,"data-disabled":(0,F.dataAttr)(i),"data-invalid":(0,F.dataAttr)(l),"data-readonly":(0,F.dataAttr)(s),"data-required":(0,F.dataAttr)(o),htmlFor:p}),[i,l,s,o,p,v]),k=(0,h.useMemo)(()=>()=>({"aria-describedby":y,"aria-invalid":(0,F.ariaAttr)(l),"data-invalid":(0,F.dataAttr)(l),"data-required":(0,F.dataAttr)(o),"data-readonly":(0,F.dataAttr)(s),id:p,required:o,disabled:i,readOnly:s}),[y,l,o,s,p,i]),S=(0,h.useMemo)(()=>()=>({...k(),...A.parts.input.attrs}),[k]),P=(0,h.useMemo)(()=>()=>({...k(),...A.parts.textarea.attrs}),[k]),T=(0,h.useMemo)(()=>()=>({...k(),...A.parts.select.attrs}),[k]),R=(0,h.useMemo)(()=>()=>({id:b,...A.parts.helperText.attrs,"data-disabled":(0,F.dataAttr)(i)}),[i,b]),N=(0,h.useMemo)(()=>()=>({id:x,...A.parts.errorText.attrs,"aria-live":"polite"}),[x]);return{ariaDescribedby:y,ids:{root:m,control:p,label:v,errorText:x,helperText:b},refs:{rootRef:f},disabled:i,invalid:l,readOnly:s,required:o,getLabelProps:w,getRootProps:j,getInputProps:S,getTextareaProps:P,getSelectProps:T,getHelperTextProps:R,getErrorTextProps:N,getRequiredIndicatorProps:(0,h.useMemo)(()=>()=>({"aria-hidden":!0,...A.parts.requiredIndicator.attrs}),[])}})(a),s=(0,v.mergeProps)(l.getRootProps(),i);return(0,t.jsx)(x.FieldProvider,{value:l,children:(0,t.jsx)(y.ark.div,{...s,ref:(0,T.composeRefs)(r,l.refs.rootRef)})})});I.displayName="FieldRoot";let q=(0,R.createSplitProps)(),L=(0,h.forwardRef)((e,r)=>{let[{value:a},i]=q(e,["value"]),l=(0,v.mergeProps)(a.getRootProps(),i);return(0,t.jsx)(x.FieldProvider,{value:a,children:(0,t.jsx)(y.ark.div,{...l,ref:r})})});L.displayName="FieldRootProvider";let B=(0,h.forwardRef)((e,r)=>{let a=(0,x.useFieldContext)(),i=(0,v.mergeProps)(a?.getSelectProps(),e);return(0,t.jsx)(y.ark.select,{...i,ref:r})});B.displayName="FieldSelect";var _=e.i(89198);let H=(0,h.forwardRef)((e,r)=>{let{autoresize:a,...i}=e,l=(0,h.useRef)(null),s=(0,x.useFieldContext)(),o=(0,v.mergeProps)(s?.getTextareaProps(),{style:{resize:a?"none":void 0}},i);return(0,h.useEffect)(()=>{if(a)return(0,_.autoresizeTextarea)(l.current)},[a]),(0,t.jsx)(y.ark.textarea,{...o,ref:(0,T.composeRefs)(r,l)})});H.displayName="FieldTextarea",e.s(["Context",()=>b,"ErrorText",()=>j,"HelperText",()=>w,"Input",()=>k,"Label",()=>S,"RequiredIndicator",()=>P,"Root",()=>I,"RootProvider",()=>L,"Select",()=>B,"Textarea",()=>H],91543);var $=e.i(91543),$=$;let{withContext:W,PropsProvider:z}=(0,e.i(40040).createRecipeContext)({key:"input"}),O=W($.Input);e.i(91815);var D=e.i(65753),G=e.i(27751);let U="blog-search-index",V="blog-search-index-version",K=r=>{let a,i,l,s,o,n,u,d,g,x,b,v,y,j,w,k,S,P,T,R,F,C,E,M,A=(0,p.c)(41),{initialQuery:N,onResultsChange:I}=r,q=void 0===N?"":N,L=(0,c.useTranslations)("user.blog"),B=(0,h.useId)(),_=(0,h.useRef)(null),H=(0,h.useRef)(null),$=(0,h.useRef)(I),W=(0,h.useRef)(""),[z,K]=(0,h.useState)(q);A[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],A[0]=a):a=A[0];let[J,Y]=(0,h.useState)(a),[Z,ee]=(0,h.useState)("loading");A[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,D.buildSitePath)("blog-search-index.json"),A[1]=i):i=A[1];let et=i;A[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,D.buildSitePath)("blog-search-index.version.json"),A[2]=l):l=A[2];let er=l;A[3]!==z?(s=z.trim(),A[3]=z,A[4]=s):s=A[4];let ea=s;return A[5]!==q?(o=()=>{K(q)},n=[q],A[5]=q,A[6]=o,A[7]=n):(o=A[6],n=A[7]),(0,h.useEffect)(o,n),A[8]!==I?(u=()=>{$.current=I},d=[I],A[8]=I,A[9]=u,A[10]=d):(u=A[9],d=A[10]),(0,h.useEffect)(u,d),A[11]!==ea?(g=()=>{W.current=ea},x=[ea],A[11]=ea,A[12]=g,A[13]=x):(g=A[12],x=A[13]),(0,h.useEffect)(g,x),A[14]!==J||A[15]!==Z||A[16]!==ea?(b=()=>{$.current(J,ea,Z)},v=[J,Z,ea],A[14]=J,A[15]=Z,A[16]=ea,A[17]=b,A[18]=v):(b=A[17],v=A[18]),(0,h.useEffect)(b,v),A[19]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{let t=new Worker(e.r(59214));H.current=t,ee("loading");let r=e=>{let r=e.data;if("ready"===r.type){ee("ready"),W.current&&t.postMessage({payload:{limit:20,query:W.current},type:"search"});return}if("error"===r.type)return void ee("error");if("results"===r.type){if(r.payload.query!==W.current)return;Y(r.payload.results)}};return t.addEventListener("message",r),(async()=>{let e=function(){try{return{json:localStorage.getItem(U),version:localStorage.getItem(V)}}catch{return{json:null,version:null}}}(),r=await fetch(er).catch(Q),a=r?.ok?await r.json().catch(X):null,i=a&&"string"==typeof a.version?a.version:null;if(i&&e.version===i&&e.json)return void t.postMessage({payload:{json:e.json},type:"load"});let l=await fetch(et);if(!l.ok)throw Error("Failed to fetch search index");let s=await l.text();try{localStorage.setItem(U,s),i?localStorage.setItem(V,i):localStorage.removeItem(V)}catch{}t.postMessage({payload:{json:s},type:"load"})})().catch(()=>{ee("error")}),()=>{t.removeEventListener("message",r),t.terminate(),H.current=null}},j=[et,er],A[19]=y,A[20]=j):(y=A[19],j=A[20]),(0,h.useEffect)(y,j),A[21]!==Z||A[22]!==ea?(w=()=>{if(!H.current)return;if(!ea)return void Y([]);if("ready"!==Z)return;let e=window.setTimeout(()=>{H.current?.postMessage({payload:{limit:20,query:ea},type:"search"})},150);return()=>window.clearTimeout(e)},k=[Z,ea],A[21]=Z,A[22]=ea,A[23]=w,A[24]=k):(w=A[23],k=A[24]),(0,h.useEffect)(w,k),A[25]!==L?(S=L("searchLabel"),A[25]=L,A[26]=S):S=A[26],A[27]===Symbol.for("react.memo_cache_sentinel")?(P=()=>_.current?.focus(),A[27]=P):P=A[27],A[28]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)(G.LuSearch,{}),A[28]=T):T=A[28],A[29]!==S?(R=(0,t.jsx)(m.IconButton,{"aria-label":S,onClick:P,size:"xs",variant:"ghost",children:T}),A[29]=S,A[30]=R):R=A[30],A[31]!==L?(F=L("searchLabel"),A[31]=L,A[32]=F):F=A[32],A[33]===Symbol.for("react.memo_cache_sentinel")?(C=e=>K(e.target.value),A[33]=C):C=A[33],A[34]!==B||A[35]!==z||A[36]!==F?(E=(0,t.jsx)(O,{"aria-label":F,id:B,onChange:C,ref:_,size:"xs",value:z,variant:"flushed",w:"140px"}),A[34]=B,A[35]=z,A[36]=F,A[37]=E):E=A[37],A[38]!==R||A[39]!==E?(M=(0,t.jsxs)(f.Flex,{align:"center",gap:1.5,children:[R,E]}),A[38]=R,A[39]=E,A[40]=M):M=A[40],M};function Q(){return null}function X(){return null}let J=e=>{let t=Date.parse(e);return Number.isNaN(t)?0:t},Y=e=>{let t=e.slice(0,4);return/^\d{4}$/.test(t)?t:null};e.s(["Posts",0,({posts:e,rssUrl:p})=>{let f,m,x,b,v=(0,g.useSearchParams)(),y=(0,g.useRouter)(),j=v.get("q")??"",[w,k]=(0,h.useState)(j),[S,P]=(0,h.useState)([]),[T,R]=(0,h.useState)("loading"),F=(0,h.useRef)(null),C=v.get("year")??null,E=v.get("tag")??null,M=v.get("page"),A=M?Number(M):1,N=Number.isFinite(A)&&A>0?A:1,I=(0,c.useTranslations)("user.blog"),q=I("metaSeparator"),L="var(--notebook-line-height)",B=[...e].sort((e,t)=>J(t.publishedAt)-J(e.publishedAt)),_=(0,h.useMemo)(()=>new Map(B.map(e=>[e.slug,e])),[B]),H=Array.from(new Set(B.map(e=>Y(e.publishedAt)).filter(e=>null!==e))).sort((e,t)=>Number(t)-Number(e)),$=Array.from(new Set(B.flatMap(e=>e.tags))).sort((e,t)=>e.localeCompare(t,"ja")),W=(f={tag:E,year:C},B.filter(e=>(!f.year||Y(e.publishedAt)===f.year)&&(!f.tag||!!e.tags.includes(f.tag)))),z=(0,h.useMemo)(()=>new Set(W.map(e=>e.slug)),[W]),O=(m=Math.max(1,Math.ceil(W.length/10)),b=((x=Number.isFinite(N)?Math.min(Math.max(1,Math.trunc(N)),m):1)-1)*10,{currentPage:x,items:W.slice(b,b+10),totalPages:m}),D=((e,t)=>{if(t<=1)return[];let r=new Set([1,t]);for(let a=-3;a<=3;a+=1){let i=e+a;i>=1&&i<=t&&r.add(i)}let a=Array.from(r).sort((e,t)=>e-t),i=[],l=null;for(let t of a)null!==l&&t-l>1&&i.push({key:`${l}-${t}`,type:"ellipsis"}),i.push({isCurrent:t===e,page:t,type:"page"}),l=t;return i})(O.currentPage,O.totalPages);(0,h.useEffect)(()=>{j!==w&&k(j)},[w,j]),(0,h.useEffect)(()=>()=>{F.current&&window.clearTimeout(F.current)},[]);let G=(0,h.useCallback)(e=>{let t=new URLSearchParams,r=void 0===e.year?C:e.year,a=void 0===e.tag?E:e.tag,i=void 0===e.page?N:e.page??void 0,l=void 0===e.query?j:e.query??void 0;r&&t.set("year",r),a&&t.set("tag",a),i&&i>1&&t.set("page",String(i)),l&&t.set("q",l);let s=t.toString();return s?`/blog?${s}`:"/blog"},[N,j,E,C]),U=(0,h.useCallback)(e=>{F.current&&window.clearTimeout(F.current),e!==j&&(F.current=window.setTimeout(()=>{y.replace(G({page:null,query:e||null}),{scroll:!1})},250))},[G,y,j]),V=(0,h.useCallback)((e,t,r)=>{P(e),k(t),R(r),U(t)},[U]);return(0,t.jsx)(r.Box,{w:"full",children:(0,t.jsx)(s.Notebook,{headerRight:(0,t.jsx)(K,{initialQuery:j,onResultsChange:V}),navigation:{},relatedPosts:[],tags:[],title:I("title"),children:(0,t.jsxs)(i.Stack,{align:"start",className:"not-prose",direction:"row",flexWrap:"wrap",gap:"calc(var(--notebook-line-height) * 2)",py:"var(--notebook-line-height)",children:[(0,t.jsxs)(r.Box,{flexBasis:"calc(var(--notebook-line-height) * 20)",flexGrow:1,minW:"min(100%, calc(var(--notebook-line-height) * 20))",children:[(0,t.jsxs)(i.Stack,{gap:"var(--notebook-line-height)",children:[(C||E)&&(0,t.jsxs)(i.Stack,{direction:"row",gap:0,wrap:"wrap",children:[C&&(0,t.jsx)(u.Tag,{href:G({page:null,year:null}),iconType:"year",isSelected:!0,mr:2,tag:C}),E&&(0,t.jsx)(u.Tag,{href:G({page:null,tag:null}),isSelected:!0,mr:2,tag:E})]}),w.length>0?"ready"===T&&0===S.length?(0,t.jsx)(l.Text,{children:I("searchEmpty")}):S.filter(e=>z.has(e.slug)).map(e=>{let r=_.get(e.slug)??{publishedAt:e.publishedAt,slug:e.slug,summary:"",tags:[],title:e.title};return(0,t.jsx)(o.NotebookPostItem,{buildTagHref:e=>G({page:null,tag:E===e?null:e}),metaSeparator:q,post:r,selectedTag:E},e.slug)}):0===O.items.length?(0,t.jsx)(l.Text,{children:I("empty")}):O.items.map(e=>(0,t.jsx)(o.NotebookPostItem,{buildTagHref:e=>G({page:null,tag:E===e?null:e}),metaSeparator:q,post:e,selectedTag:E},e.slug))]}),0===w.length&&O.totalPages>1&&(0,t.jsx)(r.Box,{"aria-label":I("paginationLabel"),mt:"var(--notebook-line-height)",children:(0,t.jsxs)(i.Stack,{direction:"row",gap:2,wrap:"wrap",children:[(0,t.jsx)(d.ViewTransitionLink,{"aria-disabled":O.currentPage<=1,href:G({page:O.currentPage-1}),lineHeight:"var(--notebook-line-height)",pointerEvents:O.currentPage<=1?"none":"auto",children:I("paginationPrev")}),D.map(e=>"ellipsis"===e.type?(0,t.jsx)(l.Text,{lineHeight:"var(--notebook-line-height)",px:2,children:"â€¦"},e.key):(0,t.jsx)(d.ViewTransitionLink,{fontWeight:e.isCurrent?"bold":"normal",href:G({page:e.page}),lineHeight:"var(--notebook-line-height)",textDecoration:e.isCurrent?"underline":"none",children:e.page},e.page)),(0,t.jsx)(d.ViewTransitionLink,{"aria-disabled":O.currentPage>=O.totalPages,href:G({page:O.currentPage+1}),lineHeight:"var(--notebook-line-height)",pointerEvents:O.currentPage>=O.totalPages?"none":"auto",children:I("paginationNext")})]})})]}),0===w.length&&(0,t.jsx)(r.Box,{flexBasis:"calc(var(--notebook-line-height) * 6)",flexGrow:9999,children:(0,t.jsxs)(i.Stack,{gap:"var(--notebook-line-height)",children:[(H.length>0||$.length>0)&&(0,t.jsxs)(i.Stack,{gap:"var(--notebook-line-height)",children:[(0,t.jsx)(a.Heading,{as:"h2",lineHeight:"var(--notebook-line-height)",children:I("filtersTitle")}),H.length>0&&(0,t.jsx)(r.Box,{children:(0,t.jsx)(i.Stack,{direction:"row",gap:0,wrap:"wrap",children:H.map(e=>(0,t.jsx)(u.Tag,{href:G({page:null,year:C===e?null:e}),iconType:"year",isSelected:C===e,mr:2,tag:e},e))})}),$.length>0&&(0,t.jsx)(r.Box,{children:(0,t.jsx)(i.Stack,{direction:"row",gap:0,wrap:"wrap",children:$.map(e=>(0,t.jsx)(u.Tag,{href:G({page:null,tag:E===e?null:e}),isSelected:E===e,mr:2,tag:e},e))})})]}),(0,t.jsxs)(i.Stack,{gap:"var(--notebook-line-height)",children:[(0,t.jsx)(a.Heading,{as:"h2",lineHeight:"var(--notebook-line-height)",children:I("subscribeHeading")}),(0,t.jsx)(i.Stack,{direction:"row",children:(0,t.jsx)(n.RssButton,{height:L,label:I("followRssLabel"),url:p,width:L})})]})]})})]})})})}],47137)}]);