1:"$Sreact.fragment"
2:I[36926,["/_next/static/chunks/5af7d63d3817c0ad.js","/_next/static/chunks/2135796b958376e0.js","/_next/static/chunks/f06f97cc5d67ef22.js"],"PostArticle"]
6:I[85089,["/_next/static/chunks/ac58007543a7ba41.js","/_next/static/chunks/10f1e981bebff83b.js"],"OutletBoundary"]
7:"$Sreact.suspense"
3:T3dd0,"use strict";
const {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];
const {useMDXComponents: _provideComponents} = arguments[0];
function _createMdxContent(props) {
  const _components = {
    a: "a",
    br: "br",
    code: "code",
    figure: "figure",
    h2: "h2",
    li: "li",
    p: "p",
    pre: "pre",
    span: "span",
    strong: "strong",
    ul: "ul",
    ..._provideComponents(),
    ...props.components
  };
  return _jsxs(_Fragment, {
    children: [_jsxs(_components.p, {
      children: ["最近、iframe を使っています。", _jsx(_components.br, {}), "\nクライアントサイドで埋め込む想定で、iframe を使おうとしています。", _jsx(_components.br, {}), "\n色々と苦労したことがあったので、書いて残しておこうと思います。"]
    }), "\n", _jsx(_components.h2, {
      id: "レスポンスヘッダー",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#レスポンスヘッダー",
        children: "レスポンスヘッダー"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["前提として、ウェブアプリケーションをプロダクションとして提供済みとします。", _jsx(_components.br, {}), "\nそのため、iframe だと ウェブサイトのURLを指定するだけで使えるので、比較的楽にできると見込んでいました。", _jsx(_components.br, {}), "\n提供するURLのレスポンスヘッダーに、X-Frame-Options や Content-Security-Policy などの調整が必要です。"]
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://developer.mozilla.org/ja/docs/Web/HTTP/Reference/Headers/X-Frame-Options",
          children: "X-Frame-Options ヘッダー - HTTP | MDN - developer.mozilla.org"
        })
      }), "\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://developer.mozilla.org/ja/docs/Web/HTTP/Reference/Headers/Content-Security-Policy",
          children: "Content-Security-Policy (CSP) ヘッダー - HTTP | MDN - developer.mozilla.org"
        })
      }), "\n"]
    }), "\n", _jsxs(_components.p, {
      children: ["埋め込み先対象が複数存在する場合は、CSPで許可するオリジンを追加します。", _jsx(_components.br, {}), "\n", _jsx(_components.strong, {
        children: "埋め込み先対象が運用として増えていく場合は、この手間は面倒になるかもしれません"
      }), " 。"]
    }), "\n", _jsx(_components.h2, {
      id: "iframeの高さ",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#iframeの高さ",
        children: "iframeの高さ"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["例えば、ノーコードツールなどでWeb制作したLPサイトに iframe を埋め込むとします。", _jsx(_components.br, {}), "\nこの際、多くの場合 iframe に対してスタイルを適用します。"]
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "css",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "css",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: ".iframe"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " {"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "  width"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "100"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "%"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ";"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "  height"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "600"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "px"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ";"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "}"
            })
          })]
        })
      })
    }), "\n", _jsxs(_components.p, {
      children: ["iframe の高さは、要素のサイズは読み込まないと不明なため px や vh などの単位で書くことが多いです。", _jsx(_components.br, {}), "\nこの height を超える場合は、iframe の枠から見切れる状態になります。"]
    }), "\n", _jsxs(_components.p, {
      children: ["Speaker Deck のような埋め込むコンテンツが スライドのみのようなサイズが固定の場合は問題なさそうです。", _jsx(_components.br, {}), "\nしかし、埋め込むコンテンツが「本文の長さ」や「コメント数」のように、", _jsx(_components.br, {}), "\n閲覧時点のデータによって高さが変わる場合は話が変わります。", _jsx(_components.br, {}), "\nこの場合、 ", _jsx(_components.strong, {
        children: "見切れてしまうと埋め込んでいる感が浮き彫りになってしまいます。"
      })]
    }), "\n", _jsxs(_components.p, {
      children: ["システム設計や運用としてコンテンツの最大値を設けれる場合は、", _jsx(_components.br, {}), "\niframe の height の値をその最大値より大きめにすることで、見切れることを阻止できます。"]
    }), "\n", _jsx(_components.h2, {
      id: "メディアクエリ",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#メディアクエリ",
        children: "メディアクエリ"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["ある一定の横幅になれば、表示するコンテンツの構造を変えるレスポンシブな振る舞いを実現したい時があります。", _jsx(_components.br, {}), "\nそれの代表的な手段の一つに、メディアクエリがあります。"]
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://developer.mozilla.org/ja/docs/Learn_web_development/Core/CSS_layout/Media_queries",
          children: "メディアクエリーの基本 - ウェブ開発の学習 | MDN - developer.mozilla.org"
        })
      }), "\n"]
    }), "\n", _jsxs(_components.p, {
      children: ["iframe の中でメディアクエリを使用すると、", _jsx(_components.br, {}), "\nメディアクエリのビューポートは埋め込み先のビューポートではなく iframe 自身になります。", _jsx(_components.br, {}), "\nそのため埋め込み先側がラップトップ並のビューポートを確保していても、", _jsx(_components.br, {}), "\niframe の中がモバイル並の横幅だった場合、埋め込みコンテンツはモバイルの表示デザインとなります。", _jsx(_components.br, {}), "\nこれが良くないというわけではなく、そういう振る舞いを理解して UI のレスポンシブ対応をする必要があります。"]
    }), "\n", _jsxs(_components.p, {
      children: ["メディアクエリのように画面全体の中の1つとして捉える方法よりも、", _jsx(_components.br, {}), "\n1つのウィジェットとしてコンテナクエリを使用する方法も悪くないかもしれません。", _jsx(_components.br, {}), "\n埋め込みコンテンツの親要素をコンテナと指定し、そのコンテナのサイズに基づいて子要素たちのサイズなどを調整するのです。"]
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://developer.mozilla.org/ja/docs/Web/CSS/Guides/Containment/Container_queries",
          children: "CSS コンテナークエリー - CSS | MDN - developer.mozilla.org"
        })
      }), "\n"]
    }), "\n", _jsx(_components.h2, {
      id: "ダイアログ",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#ダイアログ",
        children: "ダイアログ"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["ボタンクリックしたら前面にダイアログを表示する。", _jsx(_components.br, {}), "\nそんな機能を埋め込みコンテンツに含める場合は、どうでしょうか。"]
    }), "\n", _jsxs(_components.p, {
      children: ["ダイアログを表示している最中は、背面は灰色などで隠しつつスクロール移動させたくありません。", _jsx(_components.br, {}), "\niframe の中の場合、背面を制御できるのは iframe の中だけです。", _jsx(_components.br, {}), "\niframe から埋め込み先に対して何もできません。（イベント送信してホスト側に対応するなどなら別ですが）"]
    }), "\n", _jsxs(_components.p, {
      children: ["また、ダイアログというのはできれば画面中央に表示されてほしいものです。", _jsx(_components.br, {}), "\nしかし、iframe の高さのところで述べたような height の大きさを大きめ（1000pxなど）の取る方針にすると、", _jsx(_components.br, {}), "\nダイアログの表示位置を埋め込み先画面上の中央に表示するのが難しいのです。"]
    }), "\n", _jsxs(_components.p, {
      children: ["代案としてはクリックイベントからx,y座標を取得できるため、", _jsx(_components.br, {}), "\nそれらの情報からクリックした近くにダイアログを出すという方法は実現できそうです。", _jsx(_components.br, {}), "\n", _jsx(_components.strong, {
        children: "埋め込み先の情報を iframe 側から知る術"
      }), " がないため、それを使った設計（例えばスクロール量）も厳しそうです。"]
    }), "\n", _jsx(_components.h2, {
      id: "web-component",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#web-component",
        children: "Web Component"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["iframe のような埋め込み先のドキュメントと独立させた要素は、これまで書いた通りWebデザインの観点で都合が悪い時があります。", _jsx(_components.br, {}), "\nそこで、埋め込み先のドキュメントに自然に溶け込めるための方法として、 ", _jsx(_components.strong, {
        children: "Web Component"
      }), " が使えるかもしれません。"]
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://developer.mozilla.org/ja/docs/Web/API/Web_components",
          children: "ウェブコンポーネント - Web API | MDN - developer.mozilla.org"
        })
      }), "\n"]
    }), "\n", _jsxs(_components.p, {
      children: ["Web Component の場合、独自のカスタム要素を定義した (例: ", _jsx(_components.code, {
        children: "<my-super-page />"
      }), ") JavaScript ファイルを用意します。", _jsx(_components.br, {}), "\nそのファイルを script タグで読み込んだ後に ", _jsx(_components.code, {
        children: "<my-super-page />"
      }), " 要素を書くだけで使えます。", _jsx(_components.br, {}), "\n要素に属性を渡せることが可能なので、", _jsx(_components.code, {
        children: "<my-super-page page=\"2\" />"
      }), " のように文字列をカスタム要素に渡せます。"]
    }), "\n", _jsxs(_components.p, {
      children: ["Web Component を使用する箇所は、JavaScript を有効化する必要があるため注意が必要です。", _jsx(_components.br, {}), "\nまた、根拠は不明ですが SEO 観点でよろしくない というのは聞いたことがあります。"]
    }), "\n", _jsxs(_components.p, {
      children: ["もし、 ", _jsx(_components.strong, {
        children: "Web Component が使えるなら先のWebデザインの都合が悪いポイントはなんとかなるかもしれません。"
      }), _jsx(_components.br, {}), "\nさらに、 Web Component には Shadow DOM という文書から対象DOMをカプセル化する方法があります。", _jsx(_components.br, {}), "\nカプセル化による恩恵としては、スタイルを埋め込み先へ漏洩しないところや Web Component 内部を壊すこともできなくなります。", _jsx(_components.br, {}), "\n埋め込みとしては、良い恩恵かと思います。"]
    }), "\n", _jsx(_components.h2, {
      id: "終わりに",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#終わりに",
        children: "終わりに"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["iframe って手軽に使えて便利なんですよね。", _jsx(_components.br, {}), "\n今回の学びを、後世に活かしたいかと思います...!"]
    })]
  });
}
function MDXContent(props = {}) {
  const {wrapper: MDXLayout} = {
    ..._provideComponents(),
    ...props.components
  };
  return MDXLayout ? _jsx(MDXLayout, {
    ...props,
    children: _jsx(_createMdxContent, {
      ...props
    })
  }) : _createMdxContent(props);
}
return {
  default: MDXContent
};
0:{"buildId":"FFhISK9OdISz_FCZdFfxR","rsc":["$","$1","c",{"children":[["$","$L2",null,{"compiledSource":"$3","followLinks":{"bluesky":"https://bsky.app/profile/silverbirder.bsky.social","github":"https://github.com/silverbirder","rss":"https://silverbirder.github.io/rss.xml","threads":"https://www.threads.com/@silverbirder","x":"https://x.com/silverbirder"},"meta":{"index":true,"postNumber":262,"publishedAt":"2026-02-18","tags":["フロントエンド","ブラウザ"],"title":"iframeの難しさ"},"navigation":{"next":{"href":"/blog/contents/20260219","publishedAt":"2026-02-19","title":"UR団地は1つの町"},"prev":{"href":"/blog/contents/20260217","publishedAt":"2026-02-17","title":"SVGを書くと数学の知識が必要だった"}},"relatedPosts":[{"posts":[{"publishedAt":"2026-02-17","slug":"20260217","summary":"紙を積んだイラストをSVGで書こうとしていました。 （当たり前ですが）図形を表現するためには数学の知識が必要で、学生の頃の記憶を思い出したので疲れました。 所感について、諸々書こうと思います。 成果物 実際に完成したのは、以下の画像ができま","tags":["フロントエンド"],"title":"SVGを書くと数学の知識が必要だった"},{"publishedAt":"2026-02-10","slug":"20260210","summary":"以下の記事で書いた CSSをテストする方法について、試してみました。 https://zenn.dev/silverbirder/articles/df6752b230f04c ソースコードは、以下に置いています。 https://gith","tags":["フロントエンド","テスト"],"title":"CSSを、Vitestでテストしてみる"},{"publishedAt":"2026-01-24","slug":"20260124","summary":"最近、ヒューマンインターフェース ガイドライン（HIG）という言葉を知りました。 「ヒューマンインターフェイスガイドライン」には、どのAppleプラットフォームでも優れた体験を設計できるようにするためのガイドとベストプラクティスが含まれてい","tags":["フロントエンド"],"title":"ヒューマンインターフェース ガイドライン という言葉を知りました。"}],"tag":"フロントエンド"},{"posts":[{"publishedAt":"2025-09-17","slug":"google-my-activity-visualization","summary":"DuckDB WASMとOrigin Private File System (OPFS) を組み合わせ、Google マイアクティビティの履歴をブラウザ内に閉じたまま扱えるようにしたときの設計と学びを整理しました。","tags":["開発ツール","ブラウザ"],"title":"DuckDB WASMとOPFSでGoogleマイアクティビティをブラウザ完結で可視化してみた"},{"publishedAt":"2025-08-27","slug":"microcopy-microinteractions-and-links","summary":"こんにちは、@silverbirderです。最近、湖県に移住してWebフロントエンドのお仕事をしています。お仕事をしていると、ユーザー体験を良くするためには、大きな改善をせずとも小さな改善だけでも十分な効果があると思い始めました。本記事では、その小さな改善となる、3つのことについて書きたいと思います。","tags":["フロントエンド","ブラウザ"],"title":"マイクロコピー、マイクロインタラクション、そしてリンク"},{"publishedAt":"2025-02-06","slug":"opengraph-image-lineclamp-budoux","summary":"ブログ記事のOGP画像に、ブログタイトルを入れたい場面があります。その際、タイトルが長い場合は複数行に分けたり、省略したりする必要があります。今回は、試してみてよさそうだった2つの方法を紹介します。","tags":["ブラウザ"],"title":"OGPのテキストを任意の行で省略する、lineClampとbudoux"}],"tag":"ブラウザ"}],"shareUrl":"https://silverbirder.github.io/blog/contents/20260218/","slug":"20260218"}],["$L4"],"$L5"]}],"loading":null,"isPartial":false}
4:["$","script","script-0",{"src":"/_next/static/chunks/f06f97cc5d67ef22.js","async":true}]
5:["$","$L6",null,{"children":["$","$7",null,{"name":"Next.MetadataOutlet","children":"$@8"}]}]
8:null
