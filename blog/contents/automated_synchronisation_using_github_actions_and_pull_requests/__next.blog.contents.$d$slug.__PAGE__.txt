1:"$Sreact.fragment"
2:I[36926,["/_next/static/chunks/5af7d63d3817c0ad.js","/_next/static/chunks/2135796b958376e0.js","/_next/static/chunks/f06f97cc5d67ef22.js"],"PostArticle"]
6:I[85089,["/_next/static/chunks/ac58007543a7ba41.js","/_next/static/chunks/10f1e981bebff83b.js"],"OutletBoundary"]
7:"$Sreact.suspense"
3:T120cf,"use strict";
const {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];
const {useMDXComponents: _provideComponents} = arguments[0];
function _createMdxContent(props) {
  const _components = {
    a: "a",
    code: "code",
    div: "div",
    figure: "figure",
    h2: "h2",
    h3: "h3",
    img: "img",
    li: "li",
    p: "p",
    pre: "pre",
    span: "span",
    table: "table",
    tbody: "tbody",
    td: "td",
    th: "th",
    thead: "thead",
    tr: "tr",
    ul: "ul",
    ..._provideComponents(),
    ...props.components
  };
  return _jsxs(_Fragment, {
    children: [_jsx(_components.p, {
      children: "あけまして、おめでとうございます。神社のおみくじで、人生はじめて大吉を引きました、silverbirder です。"
    }), "\n", _jsx(_components.p, {
      children: "普段の業務で、Figma のデザイントークンや API のスキーマファイル、i18n のメッセージファイルなどを、フロントエンドへ同期するコミュニケーションが不毛に感じています。そこで、GitHub Actions と Pull Request を活用して、同期コミュニケーションを削減する仕組みを紹介します。"
    }), "\n", _jsx(_components.p, {
      children: "目新しい情報はないかもしれませんが、同じお困りごとを持つ人へ助けになれば、幸いです。"
    }), "\n", _jsx(_components.h2, {
      id: "github-actions-で使用するもの",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#github-actions-で使用するもの",
        children: "GitHub Actions で使用するもの"
      })
    }), "\n", _jsx(_components.p, {
      children: "今回紹介する仕組みの核となるのが GitHub Actions の repository-dispatch トリガーです。"
    }), "\n", _jsxs(_components.div, {
      className: "remark-link-card-plus__container",
      children: ["\n  ", _jsxs(_components.a, {
        href: "https://docs.github.com/ja/rest/repos/repos?apiVersion=2022-11-28#create-a-repository-dispatch-event",
        target: "_blank",
        rel: "noreferrer noopener",
        className: "remark-link-card-plus__card",
        children: ["\n    ", _jsxs(_components.div, {
          className: "remark-link-card-plus__main",
          children: ["\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__content",
            children: ["\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__title",
              children: "リポジトリの REST API エンドポイント - GitHub ドキュメント"
            }), "\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__description",
              children: "REST API を使って、GitHub 上のリポジトリを管理します。"
            }), "\n  "]
          }), "\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__meta",
            children: ["\n    ", _jsx(_components.img, {
              src: "/remark-link-card-plus/336cea8f1ec0d900658c436c52a530459021579ca410e67b1b616b0c42f5c112.png",
              className: "remark-link-card-plus__favicon",
              width: "14",
              height: "14",
              alt: ""
            }), "\n    ", _jsx(_components.span, {
              className: "remark-link-card-plus__url",
              children: "docs.github.com"
            }), "\n  "]
          }), "\n"]
        }), "\n", _jsxs(_components.div, {
          className: "remark-link-card-plus__thumbnail",
          children: ["\n  ", _jsx(_components.img, {
            src: "/remark-link-card-plus/54fa3e446d08bee3b1efcf7ff73fdc08be157f09702a4aa7fe7baa120fd2c4a4.png",
            className: "remark-link-card-plus__image",
            alt: ""
          }), "\n"]
        }), "\n  "]
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "このトリガーは、GitHub API を経由して、GitHub Actions のワークフローを起動することができます。そのため、次のように 異なるリポジトリでの GitHub Actions ワークフローを連携できます。"
    }), "\n", _jsx(_components.p, {
      children: _jsx(_components.a, {
        href: "https://mermaid.live/edit#pako:eNp9kD1rwzAQhv-KuDmmuymeSrbSoaugXKRzLLA-erqDhJD_XslO6RCoBiGO59UrPTdw2ROMUOlbKTl6C3hmjDaZtlAlJ40nYpv2SUGW4ELBJOZDFmKD1ZyDLHr6Yiq5Bsl8fdVKnDDSS-7M9Jw9cm77_9m5M5T89Fu-FQ7TtIVHQxdyKmT-soMPtaC4Zec37pl3TCg0FF3Xgfu3q8ABInHE4JuKW09baGWRLIzt6GlGXcWCTfeGdi2f1-RgFFY6gBbfLnyYg3HGtbYp-f6m913vZvn-A1JSg1Q",
        children: _jsx(_components.img, {
          src: "https://res.cloudinary.com/silverbirder/image/upload/v1693362902/silver-birder.github.io/blog/efac2e9d6d0821370603fe52c9cac4017da30ca64df4949c264605124386e36d.png",
          alt: "repository_dispatchで別リポジトリのワークフローを起動する流れ"
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "repository-dispatch と create-pull-request は、次の GitHub Actions です。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsxs(_components.li, {
        children: [_jsx(_components.a, {
          href: "https://github.com/peter-evans/repository-dispatch",
          children: "https://github.com/peter-evans/repository-dispatch"
        }), "\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "repository-dispatch-event を dispatch する Action"
          }), "\n"]
        }), "\n"]
      }), "\n", _jsxs(_components.li, {
        children: [_jsx(_components.a, {
          href: "https://github.com/peter-evans/create-pull-request",
          children: "https://github.com/peter-evans/create-pull-request"
        }), "\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "Pull Request を作成する Action"
          }), "\n"]
        }), "\n"]
      }), "\n"]
    }), "\n", _jsxs(_components.p, {
      children: ["これらの GitHub Actions を使わずに ", _jsx(_components.code, {
        children: "gh"
      }), " などを使って代替できますが、便利なモノを使って楽をします。"]
    }), "\n", _jsx(_components.h2, {
      id: "github-リポジトリ以外からのトリガー",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#github-リポジトリ以外からのトリガー",
        children: "GitHub リポジトリ以外からのトリガー"
      })
    }), "\n", _jsx(_components.p, {
      children: "GitHub のリポジトリ(username/other)からトリガーだけでなく、他のサービスからでもトリガーできます。例えば、Google Sheets からだと、Google Apps Script から GitHub API を呼べばよいです。"
    }), "\n", _jsx(_components.p, {
      children: _jsx(_components.a, {
        href: "https://mermaid.live/edit#pako:eNplkMtqwzAQRX9l0DqmexMMgdK0i0IhW0OYSDexQK9Ko9IQ8u-V7ZYsqpU03Dm6nJvS0UD1quCzImg8W75k9mOgdrhKDNWfkMewThJnsdomDkKHCRDiQpcYLw7HMr_L_9xLjmHNWZnq6ZiRYrES83VbC3Jgj6fznEEww99HC7wbhmW5J83OkUygvZXXeqLdx9v2wemMLYlFTx2-EGSghvO0X2rRLqVCB51tkhW9IB9ofENXAekMFnSpOtfl2UYRtVEe2bM1zdBt3h5VK-Exqr5dDc5cnYxqDPcWnW0drkGrXnLFRtVkGvBXqOrP7EqbwsyV31fri_z7DxDMiec",
        children: _jsx(_components.img, {
          src: "https://res.cloudinary.com/silverbirder/image/upload/v1693362926/silver-birder.github.io/blog/207138540b3a001131d8bda0a09520285fb6b001d967242fbca20b8c8db88e0e.png",
          alt: "Google Sheets（GAS）からGitHub Actionsを起動する流れ"
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "他にも、Kibela の outgoing webhook を、Server が受けて、Server が GitHub API を呼び出す方法があります。"
    }), "\n", _jsx(_components.p, {
      children: _jsx(_components.a, {
        href: "https://mermaid.live/edit#pako:eNplkVtrwzAMhf-K8XPD3k0JDMYujMFgr4ah2Gpi6ttsOVsp_e9z4oxC5wcjDudIH9KZq6CRC57xq6BX-GBgTOCkZ_VBoeCLGzBJ35QIiYwyETyxoxnQwn89Y5qXxK3-mEL9IbPR0FSGz4QxZEMhnfalZjw4vDssHvS6_xvYhnR93wrBStRAuOlMrXbKN-aGIDYUllChmTGz15YKhVRwzviRfeMwhXBs-Wav-RVVMAXWMpqQPRl6LgO7f3_ZX6k7bXIEUlOHc2XoW481em2BP6hK5VUJK3YXi7VdWnadie-4w-TA6Lr_85KWvA5zKLmopcYDFEuSS3-p1uUWHyevuKBUcMfbHrZzcXEAm6uKekF7azddT3v5BVs-q2Y",
        children: _jsx(_components.img, {
          src: "https://res.cloudinary.com/silverbirder/image/upload/v1693362959/silver-birder.github.io/blog/e3da40e838b6c83226e0337b3e7e920b1eadb09c1be118fa6ab9087d0a5e35ba.png",
          alt: "KibelaのWebhook経由でGitHub Actionsを起動する流れ"
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "Server は、IFTTT や Zapier のようなサービスでも良いですし、自前のサーバーでも良いでしょう。"
    }), "\n", _jsx(_components.h2, {
      id: "自動-commit",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#自動-commit",
        children: "自動 commit"
      })
    }), "\n", _jsx(_components.p, {
      children: "schema ファイルから、型を生成したい(yarn codegen)こともあると思います。そういうときは、次のフローを追加します。"
    }), "\n", _jsx(_components.p, {
      children: _jsx(_components.a, {
        href: "https://mermaid.live/edit#pako:eNp9kU9rwzAMxb-K8WmDhNGOHhZGTmO3scOuhqHYSmqI_0yWYaH0u89OOnboqA_CiN-TeHonqYNB2cmEXxm9xhcLE4FTXpQHmYPPbkBSfutEILbaRvAs3vmIJCCJyfIxD5-EMSTLgZbnnJA8OHwIlemvta8USr2tHSuD3vS_y9eFbd-v4k7gN-rMKP60rbEpAuvjxq_cNa8JgbGNeZ5bqrYTbzyhZkHTcLd72jViv38s5XC4_3fYAuRFvd2E_ua2YrCtd2x1cK7-NdtwkRRzspEOyYE1JYRTbStZbDpUsitfgyPkmZVU_lzQOuhj8Vp2TBkbmaMpVi6ZyW6EOZUumnqNty3YNd_zD41uqeo",
        children: _jsx(_components.img, {
          src: "https://res.cloudinary.com/silverbirder/image/upload/v1693362977/silver-birder.github.io/blog/84bd13ddb0d7a355068241f2f6a56fad73521f96b19930891ace4a223c2aeee0.png",
          alt: "コード生成後に自動コミットしてPRを作る流れ"
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "git-auto-commit-action は、変更したファイルを git commit するだけの Action です。"
    }), "\n", _jsxs(_components.div, {
      className: "remark-link-card-plus__container",
      children: ["\n  ", _jsxs(_components.a, {
        href: "https://github.com/stefanzweifel/git-auto-commit-action",
        target: "_blank",
        rel: "noreferrer noopener",
        className: "remark-link-card-plus__card",
        children: ["\n    ", _jsxs(_components.div, {
          className: "remark-link-card-plus__main",
          children: ["\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__content",
            children: ["\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__title",
              children: "GitHub - stefanzweifel/git-auto-commit-action: Automatically commit and push changed files back to GitHub with this GitHub Action for the 80% use case."
            }), "\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__description",
              children: "Automatically commit and push changed files back to GitHub with this GitHub Action for the 80% use case. - stefanzweifel/git-auto-commit-action"
            }), "\n  "]
          }), "\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__meta",
            children: ["\n    ", _jsx(_components.img, {
              src: "/remark-link-card-plus/5302fe52471d5c2e978bf55df7a8c60fcdef0d89c64e01d4951909a0b11f1e47.svg",
              className: "remark-link-card-plus__favicon",
              width: "14",
              height: "14",
              alt: ""
            }), "\n    ", _jsx(_components.span, {
              className: "remark-link-card-plus__url",
              children: "github.com"
            }), "\n  "]
          }), "\n"]
        }), "\n", _jsxs(_components.div, {
          className: "remark-link-card-plus__thumbnail",
          children: ["\n  ", _jsx(_components.img, {
            src: "/remark-link-card-plus/e1403d408296f2b8ce759333c4c8d19043fca51f8be5cc8b80a04bba6aa5dfdb.png",
            className: "remark-link-card-plus__image",
            alt: ""
          }), "\n"]
        }), "\n  "]
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "create-pull-request だけでも、自動 commit することができます。私は、次のケースで使用しました。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsxs(_components.li, {
        children: ["Figma の", _jsx(_components.a, {
          href: "https://github.com/lukasoppermann/design-tokens",
          children: "Design Tokens"
        }), "で、Figma 上から Pull Request を作成する。\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "GitHub Actions で、style dictionary の build したものを commit したい"
          }), "\n"]
        }), "\n"]
      }), "\n"]
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "yml",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "yml",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "on"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "  pull_request"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    types"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": ["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "opened"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "]"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "jobs"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "  update"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    if"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "startsWith(github.head_ref, 'figma/')"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    runs-on"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "ubuntu-latest"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    steps"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "actions/checkout@v3"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "actions/setup-node@v3"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "run"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "npm ci"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "run"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "npx style-dictionary build"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "stefanzweifel/git-auto-commit-action@v4"
            })]
          })]
        })
      })
    }), "\n", _jsx(_components.h2, {
      id: "preview",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#preview",
        children: "Preview"
      })
    }), "\n", _jsx(_components.p, {
      children: "Figma のデザイントークンや、i18n のメッセージファイルを更新したとき、Preview できる仕組みがあると、画面の確認ができて、良いです。"
    }), "\n", _jsx(_components.p, {
      children: _jsx(_components.a, {
        href: "https://mermaid.live/edit#pako:eNp9kUtLAzEUhf9KyEqhg7TShYPMqnQnLtwOSJqczgQmD29u1FL6301mFBcVs7iEw3fu8yx1MJCtTHjL8Bo7qwZSrveiPJU5-OwOoN4vSlTEVtuoPItnHkFCJTFYHvPhlRBDshzo9JgTyCuHu1CZ7tq7p1Di_95jZeBN91N8Lth03WxuBT6hM0P8ehtjU1Ssx4WfuWteExSjiXmaGqpjJ154gmZBw-Fm_bBeic3mvoTt9vbPZJHwbvEhdohTODl4TgtXGpYr6UBOWVMWe65yL0vrDr1sy9fgqPLEvez9paB1yS8nr2XLlLGSOZrS3vcdZHtUUyoqTJ3waTnWfLPLF6JHmvQ",
        children: _jsx(_components.img, {
          src: "https://res.cloudinary.com/silverbirder/image/upload/v1693362979/silver-birder.github.io/blog/77341dff8054c17e4df812bd7d2bf51737cc4e3c3ce113168e878f8030b18a31.png",
          alt: "PR更新をPreview環境で確認する流れ"
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "例えば、vercel や chromatic の preview です。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://vercel.com/docs/concepts/deployments/preview-deployments",
          children: "https://vercel.com/docs/concepts/deployments/preview-deployments"
        })
      }), "\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://www.chromatic.com/docs/review",
          children: "https://www.chromatic.com/docs/review"
        })
      }), "\n"]
    }), "\n", _jsx(_components.h2, {
      id: "サンプルコード",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#サンプルコード",
        children: "サンプルコード"
      })
    }), "\n", _jsx(_components.p, {
      children: "i18n のメッセージファイルをフロントエンドへ同期する GitHub Actions を、紹介します。"
    }), "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", _jsxs(_components.table, {
      children: [_jsx(_components.thead, {
        children: _jsxs(_components.tr, {
          children: [_jsx(_components.th, {
            children: "repository"
          }), _jsx(_components.th, {
            children: "やること"
          })]
        })
      }), _jsxs(_components.tbody, {
        children: [_jsxs(_components.tr, {
          children: [_jsx(_components.td, {
            children: "username/frontend"
          }), _jsx(_components.td, {
            children: "i18n のメッセージファイルを利用"
          })]
        }), _jsxs(_components.tr, {
          children: [_jsx(_components.td, {
            children: "username/message"
          }), _jsx(_components.td, {
            children: "i18n のメッセージファイルを管理"
          })]
        })]
      })]
    }), "\n", _jsx(_components.p, {
      children: _jsx(_components.a, {
        href: "https://mermaid.live/edit#pako:eNp9kk9LxDAQxb9KyGFR2CrepEgviuChJ68FmU1m22gziZNELct-d9M_6yKum0MIk_fLPCZvJ5XTKEsZ8D0hKXww0DLYhkRekKKjZDfIDS0VFR2LGkOAFmugvPN844GjUcYDRVELCKI1sUubF0bvgsnUcYCMoHFazvz1V_ykV3ez9PbUYOkq4Op33aKqqrLkRfKWWviRfIaIgpzc0uHzlevwdGlWK0mnU-hW17K8GShFPiFKmXs6KDQJniIatFOuqN-ACbRIiHnZuXS56Ty8LJizNLCp74veBx_iCf1HkIQ90-n7xg_DH4Kjb53g0WK4Z-ZLIDqUL0JRz9kyDaQzkMWuUUxGhWLUbmWuWjB6Jyd3Ug3MnZosZFlPmrcQupjIxvaZ-mYo-eBlCwjJ1zL-UeWqMlyC33IVdTjmOs5j1Ms9987Oeuw",
        children: _jsx(_components.img, {
          src: "https://res.cloudinary.com/silverbirder/image/upload/v1693363954/silver-birder.github.io/blog/253d2d7c485f079449b9bf2b259f325d45156b1d538d78bda0c158049af50dfe.png",
          alt: "messageリポジトリ更新をfrontendへ同期してPRを作る流れ"
        })
      })
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "yml",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "yml",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "## <username/message>/.github/workflows/main.yml"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "on"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "  push"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    branches"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "main"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    paths"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"i18n/**\""
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "jobs"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "  dispath"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    name"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "Setup"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    runs-on"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "ubuntu-latest"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    steps"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "actions/checkout@v3"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "peter-evans/repository-dispatch@v1"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "        with"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          repository"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "username/frontend"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          token"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "${{ secrets.PAT }}"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          event-type"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "create-pull-request-message"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          client-payload"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "'{\"ref\": \"${{ github.ref }}\"}'"
            })]
          })]
        })
      })
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "yml",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "yml",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "## <username/frontend>/.github/workflows/main.yml"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "on"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "  repository_dispatch"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    types"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": ["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "create-pull-request-message"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "]"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "jobs"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "  createPullRequest"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    runs-on"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "ubuntu-latest"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "    steps"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "actions/checkout@v3"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "actions/checkout@v3"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "        with"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ":"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          repository"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "username/message"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          ref"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "${{ github.event.client_payload.ref }}"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "          path"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"tmp/\""
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "run"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "|"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "          mv tmp/message.json src/message.json"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "          rm -rf tmp"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "actions/setup-node@v3"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "run"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "npm ci"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "run"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "yarn generate:message"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "      - "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#85E89D",
                "--shiki-light": "#22863A"
              },
              children: "uses"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ": "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "peter-evans/create-pull-request@v4"
            })]
          })]
        })
      })
    }), "\n", _jsx(_components.h2, {
      id: "受け入れテストをマークダウンで管理",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#受け入れテストをマークダウンで管理",
        children: "受け入れテストをマークダウンで管理"
      })
    }), "\n", _jsx(_components.p, {
      children: "安心してマージできるように、受け入れテストを整備しておきましょう。"
    }), "\n", _jsxs(_components.p, {
      children: ["具体的には、", _jsx(_components.a, {
        href: "https://cucumber.io/",
        children: "cucumber"
      }), "で仕様書を", _jsx(_components.a, {
        href: "https://github.com/cucumber/gherkin/blob/main/MARKDOWN_WITH_GHERKIN.md",
        children: "Markdown(MARKDOWN_WITH_GHERKIN)"
      }), "で管理します。"]
    }), "\n", _jsx(_components.p, {
      children: "例えば、次のような仕様書です。"
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "markdown",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "markdown",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-dark-font-weight": "bold",
                "--shiki-light": "#005CC5",
                "--shiki-light-font-weight": "bold"
              },
              children: "## Feature: Staying alive"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "This is about actually staying alive,"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "not the ["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#DBEDFF",
                "--shiki-dark-text-decoration": "underline",
                "--shiki-light": "#032F62",
                "--shiki-light-text-decoration": "underline"
              },
              children: "Bee Gees song"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "]("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-dark-text-decoration": "underline",
                "--shiki-light": "#24292E",
                "--shiki-light-text-decoration": "underline"
              },
              children: "https://www.youtube.com/watch?v=I_izvAbhExY"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ")."
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-dark-font-weight": "bold",
                "--shiki-light": "#005CC5",
                "--shiki-light-font-weight": "bold"
              },
              children: "## Rule: If you don't eat you die"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "!["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#DBEDFF",
                "--shiki-dark-text-decoration": "underline",
                "--shiki-light": "#032F62",
                "--shiki-light-text-decoration": "underline"
              },
              children: "xkcd"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "]("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-dark-text-decoration": "underline",
                "--shiki-light": "#24292E",
                "--shiki-light-text-decoration": "underline"
              },
              children: "https://res.cloudinary.com/silverbirder/image/upload/v1693363969/silver-birder.github.io/blog/lunch_2x.png"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ")"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "`@important`"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: " `@essential`"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-dark-font-weight": "bold",
                "--shiki-light": "#005CC5",
                "--shiki-light-font-weight": "bold"
              },
              children: "### Scenario Outline: eating"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#FFAB70",
                "--shiki-light": "#E36209"
              },
              children: "-"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " Given there are <start> cucumbers"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#FFAB70",
                "--shiki-light": "#E36209"
              },
              children: "-"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " When I eat <eat> cucumbers"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#FFAB70",
                "--shiki-light": "#E36209"
              },
              children: "-"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " Then I should have <left> cucumbers"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-dark-font-weight": "bold",
                "--shiki-light": "#005CC5",
                "--shiki-light-font-weight": "bold"
              },
              children: "#### Examples:"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "| start | eat | left |"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "| ----- | --- | ---- |"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "| 12    | 5   | 7    |"
            })
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "| 20    | 5   | 15   |"
            })
          })]
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "この Markdown も、GitHub Actions で Pull Request するフローに載せましょう。新しいシナリオが追加された場合、(cucumber のライブラリ上) テストコードが存在しないとエラーとなります。"
    }), "\n", _jsx(_components.p, {
      children: "機能で担保したいシナリオを Markdown で管理していくことで、次のメリットがあります。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: "仕様が明確になる"
      }), "\n", _jsx(_components.li, {
        children: "CI で受け入れテスト(cucumber)を動かし成功すると、仕様を満たす状態 となる"
      }), "\n"]
    }), "\n", _jsx(_components.h2, {
      id: "ハマったこと",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#ハマったこと",
        children: "ハマったこと"
      })
    }), "\n", _jsx(_components.h3, {
      id: "github-actions-bot-の-commit-で他のワークフローをトリガーできない",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#github-actions-bot-の-commit-で他のワークフローをトリガーできない",
        children: "GitHub Actions Bot の commit で、他のワークフローをトリガーできない"
      })
    }), "\n", _jsxs(_components.div, {
      className: "remark-link-card-plus__container",
      children: ["\n  ", _jsxs(_components.a, {
        href: "https://github.com/orgs/community/discussions/27028",
        target: "_blank",
        rel: "noreferrer noopener",
        className: "remark-link-card-plus__card",
        children: ["\n    ", _jsxs(_components.div, {
          className: "remark-link-card-plus__main",
          children: ["\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__content",
            children: ["\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__title",
              children: "Github actions workflow not triggering with tag push · community · Discussion #27028"
            }), "\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__description",
              children: "I have a workflow with 2 actions. The first action is triggered when a push is made to the branch and pushes new git tag and the second action is triggered when after a new tag is pushed. However, ..."
            }), "\n  "]
          }), "\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__meta",
            children: ["\n    ", _jsx(_components.img, {
              src: "/remark-link-card-plus/5302fe52471d5c2e978bf55df7a8c60fcdef0d89c64e01d4951909a0b11f1e47.svg",
              className: "remark-link-card-plus__favicon",
              width: "14",
              height: "14",
              alt: ""
            }), "\n    ", _jsx(_components.span, {
              className: "remark-link-card-plus__url",
              children: "github.com"
            }), "\n  "]
          }), "\n"]
        }), "\n", _jsxs(_components.div, {
          className: "remark-link-card-plus__thumbnail",
          children: ["\n  ", _jsx(_components.img, {
            src: "/remark-link-card-plus/3a770c232a82482112696f552712173fe1b30f6a4a257b519f714edca8d2b46c.png",
            className: "remark-link-card-plus__image",
            alt: ""
          }), "\n"]
        }), "\n  "]
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "token に、PAT を渡すように変更すれば解決します。"
    }), "\n", _jsx(_components.p, {
      children: "他の解決策としては、workflow_run のトリガーを使えます。"
    }), "\n", _jsxs(_components.div, {
      className: "remark-link-card-plus__container",
      children: ["\n  ", _jsxs(_components.a, {
        href: "https://docs.github.com/ja/actions/using-workflows/events-that-trigger-workflows#workflow_run",
        target: "_blank",
        rel: "noreferrer noopener",
        className: "remark-link-card-plus__card",
        children: ["\n    ", _jsxs(_components.div, {
          className: "remark-link-card-plus__main",
          children: ["\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__content",
            children: ["\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__title",
              children: "ワークフローをトリガーするイベント - GitHub ドキュメント"
            }), "\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__description",
              children: "GitHub で特定のアクティビティが発生したときに、スケジュールした時刻に、または GitHub の外部でイベントが発生したときに、ワークフローが実行されるように構成できます。"
            }), "\n  "]
          }), "\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__meta",
            children: ["\n    ", _jsx(_components.img, {
              src: "/remark-link-card-plus/336cea8f1ec0d900658c436c52a530459021579ca410e67b1b616b0c42f5c112.png",
              className: "remark-link-card-plus__favicon",
              width: "14",
              height: "14",
              alt: ""
            }), "\n    ", _jsx(_components.span, {
              className: "remark-link-card-plus__url",
              children: "docs.github.com"
            }), "\n  "]
          }), "\n"]
        }), "\n", _jsxs(_components.div, {
          className: "remark-link-card-plus__thumbnail",
          children: ["\n  ", _jsx(_components.img, {
            src: "/remark-link-card-plus/0a1c8b3e58a08abcf077139d5214ef19b640334e2877d35b7cc9b13433dcf671.png",
            className: "remark-link-card-plus__image",
            alt: ""
          }), "\n"]
        }), "\n  "]
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "ただし、デフォルトブランチでのみ動作します。"
    }), "\n", _jsx(_components.h3, {
      id: "repository-dispatch-の-post-はjson-で制限がある",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#repository-dispatch-の-post-はjson-で制限がある",
        children: "repository-dispatch の POST は、JSON で制限がある"
      })
    }), "\n", _jsxs(_components.div, {
      className: "remark-link-card-plus__container",
      children: ["\n  ", _jsxs(_components.a, {
        href: "https://github.com/peter-evans/repository-dispatch#client-payload",
        target: "_blank",
        rel: "noreferrer noopener",
        className: "remark-link-card-plus__card",
        children: ["\n    ", _jsxs(_components.div, {
          className: "remark-link-card-plus__main",
          children: ["\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__content",
            children: ["\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__title",
              children: "GitHub - peter-evans/repository-dispatch: A GitHub action to create a repository dispatch event"
            }), "\n    ", _jsx(_components.div, {
              className: "remark-link-card-plus__description",
              children: "A GitHub action to create a repository dispatch event - peter-evans/repository-dispatch"
            }), "\n  "]
          }), "\n  ", _jsxs(_components.div, {
            className: "remark-link-card-plus__meta",
            children: ["\n    ", _jsx(_components.img, {
              src: "/remark-link-card-plus/5302fe52471d5c2e978bf55df7a8c60fcdef0d89c64e01d4951909a0b11f1e47.svg",
              className: "remark-link-card-plus__favicon",
              width: "14",
              height: "14",
              alt: ""
            }), "\n    ", _jsx(_components.span, {
              className: "remark-link-card-plus__url",
              children: "github.com"
            }), "\n  "]
          }), "\n"]
        }), "\n", _jsxs(_components.div, {
          className: "remark-link-card-plus__thumbnail",
          children: ["\n  ", _jsx(_components.img, {
            src: "/remark-link-card-plus/074a752120d7dca14b4fb34d66f5a2d1e64a20199c979eb40ebe7e3e4b6f400b.png",
            className: "remark-link-card-plus__image",
            alt: ""
          }), "\n"]
        }), "\n  "]
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "同期したいファイルを json に変換して、dispatch する event ペイロードに含めようと、当初考えていました。ただ、次の懸念があったため、却下しました。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: "json にしてしまうとコメントが消える"
      }), "\n", _jsx(_components.li, {
        children: "JSON のバイトサイズに上限がある"
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "そこで、同期したいリポジトリの github.ref を event ペイロードに含めて、event を受けた側がソースコードをチェックアウトして使う方針に切り替えました。"
    }), "\n", _jsx(_components.h2, {
      id: "終わりに",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#終わりに",
        children: "終わりに"
      })
    }), "\n", _jsx(_components.p, {
      children: "GitHub Actions と Pull Request を活用することで、自動的にアプリケーションのソースコードを更新する仕組みを簡単に組み立てられます。\nこのような Ops があれば、Slack でのメッセージラリーをする回数が減らせられます。ぜひ、ご活用ください。"
    })]
  });
}
function MDXContent(props = {}) {
  const {wrapper: MDXLayout} = {
    ..._provideComponents(),
    ...props.components
  };
  return MDXLayout ? _jsx(MDXLayout, {
    ...props,
    children: _jsx(_createMdxContent, {
      ...props
    })
  }) : _createMdxContent(props);
}
return {
  default: MDXContent
};
0:{"buildId":"FFhISK9OdISz_FCZdFfxR","rsc":["$","$1","c",{"children":[["$","$L2",null,{"compiledSource":"$3","followLinks":{"bluesky":"https://bsky.app/profile/silverbirder.bsky.social","github":"https://github.com/silverbirder","rss":"https://silverbirder.github.io/rss.xml","threads":"https://www.threads.com/@silverbirder","x":"https://x.com/silverbirder"},"meta":{"index":false,"postNumber":98,"publishedAt":"2023-01-03","tags":["DevOps","開発ツール"],"title":"GitHub ActionsとPull Requestを活用した、同期の自動化"},"navigation":{"next":{"href":"/blog/contents/zod_refine_path","publishedAt":"2023-01-07","title":"zodのrefineにあるpathにハマった"},"prev":{"href":"/blog/contents/2022_furikaeri","publishedAt":"2022-12-03","title":"2022年の振り返り。転職と妊活"}},"relatedPosts":[{"posts":[{"publishedAt":"2023-06-29","slug":"unleash_feature_flag","summary":"フィーチャーフラグ（Feature Flag）をご存知でしょうか？これは新機能のリリース制御やABテストを容易にする強力なツールです。しかし、適切な管理ツールなければ、フィーチャーフラグの管理は容易なことではありません。今回は、そんなフィーチャーフラグの管理を効率化するツール、 **Unleash** について解説します。","tags":["DevOps"],"title":"Unleashで始めるフィーチャーフラグ"},{"publishedAt":"2022-08-23","slug":"try_dagger","summary":"前々から気になっていた、CI/CD の非ベンダーロックインな Dagger というツールを試してみました。本記事では、試した内容について共有しようと思います。","tags":["バックエンド","DevOps","クローリング"],"title":"CI/CDのDaggerで、GithubActionsとCircleCIにシュッと連携してみた"},{"publishedAt":"2019-11-15","slug":"circle_ci_backstop_visual_regression_testing","summary":"CircleCIとBackstopJSを組み合わせて、『継続的にWebページの視覚的な変化を監視するツール』を作成しました。","tags":["DevOps","テスト"],"title":"CircleCI + BackstopJS (Puppeteer) でビジュアルリグレッションテストを継続的に監視する"}],"tag":"DevOps"},{"posts":[{"publishedAt":"2026-02-06","slug":"20260206","summary":"ブログ記事のページ下部に、Disqusを設置しています。 急遽、Disqusの上下に良くわからない広告が大量に表示されるようになりました。 Disqusのメール メールボックスを漁ってみると、以下のメールがありました。 Disqusからのメ","tags":["開発ツール"],"title":"Disqusに広告が表示されるようになった"},{"publishedAt":"2025-09-17","slug":"google-my-activity-visualization","summary":"DuckDB WASMとOrigin Private File System (OPFS) を組み合わせ、Google マイアクティビティの履歴をブラウザ内に閉じたまま扱えるようにしたときの設計と学びを整理しました。","tags":["開発ツール","ブラウザ"],"title":"DuckDB WASMとOPFSでGoogleマイアクティビティをブラウザ完結で可視化してみた"},{"publishedAt":"2024-03-21","slug":"try-million-lint","summary":"Million.devを知り、少し試してみました。Million.jsについて このライブラリは、React DevToolsのProfilerより簡単にプロファイリングできるみたいです。 パフォーマンスのプロファイリングは通常、面倒で時間のかかる作業です。もしもこれを簡単に実行できるのであれば、めちゃくちゃ捗るなとわくわくしました。","tags":["テスト","開発ツール"],"title":"Million Lintを試してみた"}],"tag":"開発ツール"}],"shareUrl":"https://silverbirder.github.io/blog/contents/automated_synchronisation_using_github_actions_and_pull_requests/","slug":"automated_synchronisation_using_github_actions_and_pull_requests"}],["$L4"],"$L5"]}],"loading":null,"isPartial":false}
4:["$","script","script-0",{"src":"/_next/static/chunks/f06f97cc5d67ef22.js","async":true}]
5:["$","$L6",null,{"children":["$","$7",null,{"name":"Next.MetadataOutlet","children":"$@8"}]}]
8:null
